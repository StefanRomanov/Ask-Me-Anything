<header>
    <nav class="navbar navbar-dark shadow bg-primary">
        <ul class="navbar-nav mr-auto">
            <li>
                <a routerLink="/home" routerLinkActive="active"
                   class="nav-link font-weight-bold text-white"><span>Home</span>
                </a>
            </li>
            <li class="nav-item">
                <a routerLink="/query/all" routerLinkActive="active" class="nav-link font-weight-bold text-white"><span>All
                    Queries</span></a>
            </li>
            <ng-template #notLogged>
                <div class="pull-right mr-5">
                    <li class="nav-item">
                        <a routerLink="/auth/login" routerLinkActive="active"
                           class="nav-link font-weight-bold text-white"><span>Login</span></a>
                    </li>
                    <li class="nav-item">
                        <a routerLink="/auth/register" routerLinkActive="active"
                           class="nav-link font-weight-bold text-white"><span>Register</span></a>
                    </li>
                </div>
            </ng-template>
            <ng-template #loggedIn>
                <ng-template #notAdmin>
                    <li class="nav-item">
                        <a routerLink="/query/my" routerLinkActive="active"
                           class="nav-link font-weight-bold text-white"><span>My Queries</span></a>
                    </li>
                    <li class="nav-item">
                        <a routerLink="/query/create" routerLinkActive="active"
                           class="nav-link font-weight-bold text-white"><span>Ask a question</span></a>
                    </li>
                </ng-template>
                <ng-template #isAdmin>
                    <li class="nav-item">
                        <a routerLink="/user/manage" routerLinkActive="active"
                           class="nav-link font-weight-bold text-white"><span>Manage users</span></a>
                    </li>
                </ng-template>
                <ng-container *ngIf="(isAdmin$ | async) then isAdmin else notAdmin"></ng-container>
                <div class="pull-right mb-auto">
                    <span class="text-white font-weight-bold mr-3" *ngIf="username$ | async as username">Hello, {{username}}</span>
                    <li class="nav-item mr-5">
                        <a routerLink="/logout" routerLinkActive="active" class="nav-link font-weight-bold text-white"
                           (click)="logout()"><span>Logout</span></a>
                    </li>
                </div>
            </ng-template>
            <ng-container *ngIf="(isLoggedIn$ | async) then loggedIn else notLogged"></ng-container>
        </ul>
    </nav>
</header>
